use crate::bitboard;
use crate::bitboard::Bitboard;
use crate::square;
use crate::square::Square;

use lazy_static::lazy_static;

macro_rules! chessboard {
    ($line0:tt $line1:tt $line2:tt $line3:tt $line4:tt $line5:tt $line6:tt $line7:tt) => {
        ($line0 << 56)
            | ($line1 << 48)
            | ($line2 << 40)
            | ($line3 << 32)
            | ($line4 << 24)
            | ($line5 << 16)
            | ($line6 << 8)
            | ($line7 << 0)
    };
}

pub struct KingAttackTable {
    lookup: [Bitboard; 64],
}

impl KingAttackTable {
    pub fn lookup(&self, square: Square) -> Bitboard {
        self.lookup[square as usize]
    }
}

pub struct KnightAttackTable {
    lookup: [Bitboard; 64],
}

impl KnightAttackTable {
    pub fn lookup(&self, square: Square) -> Bitboard {
        self.lookup[square as usize]
    }
}

pub struct WhitePawnAttackTable {
    lookup: [Bitboard; 56],
}

impl WhitePawnAttackTable {
    pub fn lookup(&self, square: Square) -> Bitboard {
        debug_assert!(square as usize >= 8);
        self.lookup[square as usize - 8]
    }
}

pub struct BlackPawnAttackTable {
    lookup: [Bitboard; 56],
}

impl BlackPawnAttackTable {
    pub fn lookup(&self, square: Square) -> Bitboard {
        debug_assert!((square as usize) < 56);
        self.lookup[square as usize]
    }
}

pub struct WhitePawnPushTable {
    lookup: [[Bitboard; 4]; 56],
}

impl WhitePawnPushTable {
    pub fn new() -> WhitePawnPushTable {
        let mut table = WhitePawnPushTable {
            lookup: [[bitboard::EMPTY; 4]; 56],
        };
        for sq in 8..16u32 {
            table.lookup[sq as usize - 8][0b00] = (1 << sq + 8) | (1 << sq + 16);
            table.lookup[sq as usize - 8][0b01] = 0;
            table.lookup[sq as usize - 8][0b10] = 1 << sq + 8;
            table.lookup[sq as usize - 8][0b11] = 0;
        }
        for sq in 16..64u32 {
            table.lookup[sq as usize - 8][0b00] = 1u64.checked_shl(sq + 8).unwrap_or(0);
            table.lookup[sq as usize - 8][0b01] = 0;
            table.lookup[sq as usize - 8][0b10] = 1u64.checked_shl(sq + 8).unwrap_or(0);
            table.lookup[sq as usize - 8][0b11] = 0;
        }
        return table;
    }

    pub fn lookup(&self, square: Square, occ: Bitboard) -> Bitboard {
        debug_assert!(square >= 8);
        const OCC_MASK: u64 = 0x10100;
        let occ = occ & (OCC_MASK << square);
        let first_blocker = (occ.checked_shr(square as u32 + 15).unwrap_or(0)) & 0b10;
        let second_blocker = (occ.checked_shr(square as u32 + 8).unwrap_or(0)) & 0b01;
        self.lookup[square as usize - 8][(first_blocker | second_blocker) as usize]
    }
}

pub struct BlackPawnPushTable {
    lookup: [[Bitboard; 4]; 56],
}

impl BlackPawnPushTable {
    pub fn new() -> BlackPawnPushTable {
        let mut table = BlackPawnPushTable {
            lookup: [[bitboard::EMPTY; 4]; 56],
        };
        for sq in 0..48u32 {
            let sq_bit = 1u64 << sq;

            table.lookup[sq as usize][0b00] = sq_bit.checked_shr(8).unwrap_or(0);
            table.lookup[sq as usize][0b01] = 0;
            table.lookup[sq as usize][0b10] = sq_bit.checked_shr(8).unwrap_or(0);
            table.lookup[sq as usize][0b11] = 0;
        }
        for sq in 48..56u32 {
            table.lookup[sq as usize][0b00] = (1 << (sq - 8)) | (1 << (sq - 16));
            table.lookup[sq as usize][0b01] = 0;
            table.lookup[sq as usize][0b10] = 1 << (sq - 8);
            table.lookup[sq as usize][0b11] = 0;
        }
        return table;
    }

    pub fn lookup(&self, square: Square, occ: Bitboard) -> Bitboard {
        debug_assert!(square < 56);
        const OCC_MASK: u64 = 0x101 << square::H6;
        let occ = occ & (OCC_MASK >> (63 - square));
        let first_blocker = (occ
            .checked_shr((square as u32).saturating_sub(17))
            .unwrap_or(0))
            & 0b10;
        let second_blocker = (occ
            .checked_shr((square as u32).saturating_sub(8))
            .unwrap_or(0))
            & 0b01;
        self.lookup[square as usize][(first_blocker | second_blocker) as usize]
    }
}

pub const KING_ATTACK_TABLE: KingAttackTable = KingAttackTable {
    lookup: [
        // [0] <-> H1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_11000000
            0b_01000000),
        // [1] <-> G1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_11100000
            0b_10100000),
        // [2] <-> F1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01110000
            0b_01010000),
        // [3] <-> E1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00111000
            0b_00101000),
        // [4] <-> D1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00011100
            0b_00010100),
        // [5] <-> C1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001110
            0b_00001010),
        // [6] <-> B1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000111
            0b_00000101),
        // [7] <-> A1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000011
            0b_00000010),
        // [8] <-> H2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_11000000
            0b_01000000
            0b_11000000),
        // [9] <-> G2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_11100000
            0b_10100000
            0b_11100000),
        // [10] <-> F2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01110000
            0b_01010000
            0b_01110000),
        // [11] <-> E2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00111000
            0b_00101000
            0b_00111000),
        // [12] <-> D2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00011100
            0b_00010100
            0b_00011100),
        // [13] <-> C2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001110
            0b_00001010
            0b_00001110),
        // [14] <-> B2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000111
            0b_00000101
            0b_00000111),
        // [15] <-> A2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000011
            0b_00000010
            0b_00000011),
        // [16] <-> H3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_11000000
            0b_01000000
            0b_11000000
            0b_00000000),
        // [17] <-> G3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_11100000
            0b_10100000
            0b_11100000
            0b_00000000),
        // [18] <-> F3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01110000
            0b_01010000
            0b_01110000
            0b_00000000),
        // [19] <-> E3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00111000
            0b_00101000
            0b_00111000
            0b_00000000),
        // [20] <-> D3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00011100
            0b_00010100
            0b_00011100
            0b_00000000),
        // [21] <-> C3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001110
            0b_00001010
            0b_00001110
            0b_00000000),
        // [22] <-> B3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000111
            0b_00000101
            0b_00000111
            0b_00000000),
        // [23] <-> A3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000011
            0b_00000010
            0b_00000011
            0b_00000000),
        // [24] <-> H4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_11000000
            0b_01000000
            0b_11000000
            0b_00000000
            0b_00000000),
        // [25] <-> G4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_11100000
            0b_10100000
            0b_11100000
            0b_00000000
            0b_00000000),
        // [26] <-> F4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01110000
            0b_01010000
            0b_01110000
            0b_00000000
            0b_00000000),
        // [27] <-> E4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00111000
            0b_00101000
            0b_00111000
            0b_00000000
            0b_00000000),
        // [28] <-> D4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00011100
            0b_00010100
            0b_00011100
            0b_00000000
            0b_00000000),
        // [29] <-> C4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001110
            0b_00001010
            0b_00001110
            0b_00000000
            0b_00000000),
        // [30] <-> B4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000111
            0b_00000101
            0b_00000111
            0b_00000000
            0b_00000000),
        // [31] <-> A4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000011
            0b_00000010
            0b_00000011
            0b_00000000
            0b_00000000),
        // [32] <-> H5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_11000000
            0b_01000000
            0b_11000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [33] <-> G5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_11100000
            0b_10100000
            0b_11100000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [34] <-> F5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_01110000
            0b_01010000
            0b_01110000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [35] <-> E5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00111000
            0b_00101000
            0b_00111000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [36] <-> D5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00011100
            0b_00010100
            0b_00011100
            0b_00000000
            0b_00000000
            0b_00000000),
        // [37] <-> C5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00001110
            0b_00001010
            0b_00001110
            0b_00000000
            0b_00000000
            0b_00000000),
        // [38] <-> B5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000111
            0b_00000101
            0b_00000111
            0b_00000000
            0b_00000000
            0b_00000000),
        // [39] <-> A5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000011
            0b_00000010
            0b_00000011
            0b_00000000
            0b_00000000
            0b_00000000),
        // [40] <-> H6
        chessboard!(
            0b_00000000
            0b_11000000
            0b_01000000
            0b_11000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [41] <-> G6
        chessboard!(
            0b_00000000
            0b_11100000
            0b_10100000
            0b_11100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [42] <-> F6
        chessboard!(
            0b_00000000
            0b_01110000
            0b_01010000
            0b_01110000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [43] <-> E6
        chessboard!(
            0b_00000000
            0b_00111000
            0b_00101000
            0b_00111000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [44] <-> D6
        chessboard!(
            0b_00000000
            0b_00011100
            0b_00010100
            0b_00011100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [45] <-> C6
        chessboard!(
            0b_00000000
            0b_00001110
            0b_00001010
            0b_00001110
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [46] <-> B6
        chessboard!(
            0b_00000000
            0b_00000111
            0b_00000101
            0b_00000111
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [47] <-> A6
        chessboard!(
            0b_00000000
            0b_00000011
            0b_00000010
            0b_00000011
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [48] <-> H7
        chessboard!(
            0b_11000000
            0b_01000000
            0b_11000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [49] <-> G7
        chessboard!(
            0b_11100000
            0b_10100000
            0b_11100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [50] <-> F7
        chessboard!(
            0b_01110000
            0b_01010000
            0b_01110000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [51] <-> E7
        chessboard!(
            0b_00111000
            0b_00101000
            0b_00111000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [52] <-> D7
        chessboard!(
            0b_00011100
            0b_00010100
            0b_00011100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [53] <-> C7
        chessboard!(
            0b_00001110
            0b_00001010
            0b_00001110
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [54] <-> B7
        chessboard!(
            0b_00000111
            0b_00000101
            0b_00000111
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [55] <-> A7
        chessboard!(
            0b_00000011
            0b_00000010
            0b_00000011
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [56] <-> H8
        chessboard!(
            0b_01000000
            0b_11000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [57] <-> G8
        chessboard!(
            0b_10100000
            0b_11100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [58] <-> F8
        chessboard!(
            0b_01010000
            0b_01110000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [59] <-> E8
        chessboard!(
            0b_00101000
            0b_00111000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [60] <-> D8
        chessboard!(
            0b_00010100
            0b_00011100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [61] <-> C8
        chessboard!(
            0b_00001010
            0b_00001110
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [62] <-> B8
        chessboard!(
            0b_00000101
            0b_00000111
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [63] <-> A8
        chessboard!(
            0b_00000010
            0b_00000011
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
    ],
};

pub const KNIGHT_ATTACK_TABLE: KnightAttackTable = KnightAttackTable {
    lookup: [
        // [0] <-> H1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00100000
            0b_00000000),
        // [1] <-> G1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00010000
            0b_00000000),
        // [2] <-> F1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_10001000
            0b_00000000),
        // [3] <-> E1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_01000100
            0b_00000000),
        // [4] <-> D1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00100010
            0b_00000000),
        // [5] <-> C1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00010001
            0b_00000000),
        // [6] <-> B1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00001000
            0b_00000000),
        // [7] <-> A1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000100
            0b_00000000),
        // [8] <-> H2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00100000
            0b_00000000
            0b_00100000),
        // [9] <-> G2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00010000
            0b_00000000
            0b_00010000),
        // [10] <-> F2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_10001000
            0b_00000000
            0b_10001000),
        // [11] <-> E2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_01000100
            0b_00000000
            0b_01000100),
        // [12] <-> D2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00100010
            0b_00000000
            0b_00100010),
        // [13] <-> C2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00010001
            0b_00000000
            0b_00010001),
        // [14] <-> B2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000100
            0b_00001000
            0b_00000000
            0b_00001000),
        // [15] <-> A2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000100
            0b_00000000
            0b_00000100),
        // [16] <-> H3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00100000
            0b_00000000
            0b_00100000
            0b_01000000),
        // [17] <-> G3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00010000
            0b_00000000
            0b_00010000
            0b_10100000),
        // [18] <-> F3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_10001000
            0b_00000000
            0b_10001000
            0b_01010000),
        // [19] <-> E3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_01000100
            0b_00000000
            0b_01000100
            0b_00101000),
        // [20] <-> D3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00100010
            0b_00000000
            0b_00100010
            0b_00010100),
        // [21] <-> C3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00010001
            0b_00000000
            0b_00010001
            0b_00001010),
        // [22] <-> B3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00001000
            0b_00000000
            0b_00001000
            0b_00000101),
        // [23] <-> A3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000100
            0b_00000000
            0b_00000100
            0b_00000010),
        // [24] <-> H4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00100000
            0b_00000000
            0b_00100000
            0b_01000000
            0b_00000000),
        // [25] <-> G4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00010000
            0b_00000000
            0b_00010000
            0b_10100000
            0b_00000000),
        // [26] <-> F4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_01010000
            0b_10001000
            0b_00000000
            0b_10001000
            0b_01010000
            0b_00000000),
        // [27] <-> E4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00101000
            0b_01000100
            0b_00000000
            0b_01000100
            0b_00101000
            0b_00000000),
        // [28] <-> D4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00100010
            0b_00000000
            0b_00100010
            0b_00010100
            0b_00000000),
        // [29] <-> C4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00010001
            0b_00000000
            0b_00010001
            0b_00001010
            0b_00000000),
        // [30] <-> B4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00001000
            0b_00000000
            0b_00001000
            0b_00000101
            0b_00000000),
        // [31] <-> A4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000100
            0b_00000000
            0b_00000100
            0b_00000010
            0b_00000000),
        // [32] <-> H5
        chessboard!(
            0b_00000000
            0b_01000000
            0b_00100000
            0b_00000000
            0b_00100000
            0b_01000000
            0b_00000000
            0b_00000000),
        // [33] <-> G5
        chessboard!(
            0b_00000000
            0b_10100000
            0b_00010000
            0b_00000000
            0b_00010000
            0b_10100000
            0b_00000000
            0b_00000000),
        // [34] <-> F5
        chessboard!(
            0b_00000000
            0b_01010000
            0b_10001000
            0b_00000000
            0b_10001000
            0b_01010000
            0b_00000000
            0b_00000000),
        // [35] <-> E5
        chessboard!(
            0b_00000000
            0b_00101000
            0b_01000100
            0b_00000000
            0b_01000100
            0b_00101000
            0b_00000000
            0b_00000000),
        // [36] <-> D5
        chessboard!(
            0b_00000000
            0b_00010100
            0b_00100010
            0b_00000000
            0b_00100010
            0b_00010100
            0b_00000000
            0b_00000000),
        // [37] <-> C5
        chessboard!(
            0b_00000000
            0b_00001010
            0b_00010001
            0b_00000000
            0b_00010001
            0b_00001010
            0b_00000000
            0b_00000000),
        // [38] <-> B5
        chessboard!(
            0b_00000000
            0b_00000101
            0b_00001000
            0b_00000000
            0b_00001000
            0b_00000101
            0b_00000000
            0b_00000000),
        // [39] <-> A5
        chessboard!(
            0b_00000000
            0b_00000010
            0b_00000100
            0b_00000000
            0b_00000100
            0b_00000010
            0b_00000000
            0b_00000000),
        // [40] <-> H6
        chessboard!(
            0b_01000000
            0b_00100000
            0b_00000000
            0b_00100000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [41] <-> G6
        chessboard!(
            0b_10100000
            0b_00010000
            0b_00000000
            0b_00010000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [42] <-> F6
        chessboard!(
            0b_01010000
            0b_10001000
            0b_00000000
            0b_10001000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [43] <-> E6
        chessboard!(
            0b_00101000
            0b_01000100
            0b_00000000
            0b_01000100
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [44] <-> D6
        chessboard!(
            0b_00010100
            0b_00100010
            0b_00000000
            0b_00100010
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000),
        // [45] <-> C6
        chessboard!(
            0b_00001010
            0b_00010001
            0b_00000000
            0b_00010001
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000),
        // [46] <-> B6
        chessboard!(
            0b_00000101
            0b_00001000
            0b_00000000
            0b_00001000
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000),
        // [47] <-> A6
        chessboard!(
            0b_00000010
            0b_00000100
            0b_00000000
            0b_00000100
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000),
        // [48] <-> H7
        chessboard!(
            0b_00100000
            0b_00000000
            0b_00100000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [49] <-> G7
        chessboard!(
            0b_00010000
            0b_00000000
            0b_00010000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [50] <-> F7
        chessboard!(
            0b_10001000
            0b_00000000
            0b_10001000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [51] <-> E7
        chessboard!(
            0b_01000100
            0b_00000000
            0b_01000100
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [52] <-> D7
        chessboard!(
            0b_00100010
            0b_00000000
            0b_00100010
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [53] <-> C7
        chessboard!(
            0b_00010001
            0b_00000000
            0b_00010001
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [54] <-> B7
        chessboard!(
            0b_00001000
            0b_00000000
            0b_00001000
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [55] <-> A7
        chessboard!(
            0b_00000100
            0b_00000000
            0b_00000100
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [56] <-> H8
        chessboard!(
            0b_00000000
            0b_00100000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [57] <-> G8
        chessboard!(
            0b_00000000
            0b_00010000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [58] <-> F8
        chessboard!(
            0b_00000000
            0b_10001000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [59] <-> E8
        chessboard!(
            0b_00000000
            0b_01000100
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [60] <-> D8
        chessboard!(
            0b_00000000
            0b_00100010
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [61] <-> C8
        chessboard!(
            0b_00000000
            0b_00010001
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [62] <-> B8
        chessboard!(
            0b_00000000
            0b_00001000
            0b_00000100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [63] <-> A8
        chessboard!(
            0b_00000000
            0b_00000100
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
    ],
};

pub const WHITE_PAWN_ATTACK_TABLE: WhitePawnAttackTable = WhitePawnAttackTable {
    lookup: [
        // [8] <-> H2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00000000
            0b_00000000),
        // [9] <-> G2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00000000
            0b_00000000),
        // [10] <-> F2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_00000000
            0b_00000000),
        // [11] <-> E2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_00000000
            0b_00000000),
        // [12] <-> D2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00000000
            0b_00000000),
        // [13] <-> C2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00000000
            0b_00000000),
        // [14] <-> B2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00000000
            0b_00000000),
        // [15] <-> A2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000000
            0b_00000000),
        // [16] <-> H3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [17] <-> G3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [18] <-> F3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [19] <-> E3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [20] <-> D3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000),
        // [21] <-> C3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000),
        // [22] <-> B3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000),
        // [23] <-> A3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000),
        // [24] <-> H4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [25] <-> G4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [26] <-> F4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [27] <-> E4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [28] <-> D4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [29] <-> C4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [30] <-> B4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [31] <-> A4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [32] <-> H5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [33] <-> G5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [34] <-> F5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [35] <-> E5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [36] <-> D5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [37] <-> C5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [38] <-> B5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [39] <-> A5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [40] <-> H6
        chessboard!(
            0b_00000000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [41] <-> G6
        chessboard!(
            0b_00000000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [42] <-> F6
        chessboard!(
            0b_00000000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [43] <-> E6
        chessboard!(
            0b_00000000
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [44] <-> D6
        chessboard!(
            0b_00000000
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [45] <-> C6
        chessboard!(
            0b_00000000
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [46] <-> B6
        chessboard!(
            0b_00000000
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [47] <-> A6
        chessboard!(
            0b_00000000
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [48] <-> H7
        chessboard!(
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [49] <-> G7
        chessboard!(
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [50] <-> F7
        chessboard!(
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [51] <-> E7
        chessboard!(
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [52] <-> D7
        chessboard!(
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [53] <-> C7
        chessboard!(
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [54] <-> B7
        chessboard!(
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [55] <-> A7
        chessboard!(
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [56] <-> H8
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [57] <-> G8
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [58] <-> F8
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [59] <-> E8
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [60] <-> D8
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [61] <-> C8
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [62] <-> B8
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [63] <-> A8
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
    ],
};

pub const BLACK_PAWN_ATTACK_TABLE: BlackPawnAttackTable = BlackPawnAttackTable {
    lookup: [
        // [0] <-> H1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [1] <-> G1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [2] <-> F1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [3] <-> E1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [4] <-> D1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [5] <-> C1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [6] <-> B1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [7] <-> A1
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [8] <-> H2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000),
        // [9] <-> G2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000),
        // [10] <-> F2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000),
        // [11] <-> E2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000),
        // [12] <-> D2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100),
        // [13] <-> C2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010),
        // [14] <-> B2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101),
        // [15] <-> A2
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010),
        // [16] <-> H3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00000000),
        // [17] <-> G3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00000000),
        // [18] <-> F3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_00000000),
        // [19] <-> E3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_00000000),
        // [20] <-> D3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00000000),
        // [21] <-> C3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00000000),
        // [22] <-> B3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00000000),
        // [23] <-> A3
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000000),
        // [24] <-> H4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00000000
            0b_00000000),
        // [25] <-> G4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00000000
            0b_00000000),
        // [26] <-> F4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_00000000
            0b_00000000),
        // [27] <-> E4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_00000000
            0b_00000000),
        // [28] <-> D4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00000000
            0b_00000000),
        // [29] <-> C4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00000000
            0b_00000000),
        // [30] <-> B4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00000000
            0b_00000000),
        // [31] <-> A4
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000000
            0b_00000000),
        // [32] <-> H5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [33] <-> G5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [34] <-> F5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [35] <-> E5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [36] <-> D5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000),
        // [37] <-> C5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000),
        // [38] <-> B5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000),
        // [39] <-> A5
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000),
        // [40] <-> H6
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [41] <-> G6
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [42] <-> F6
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [43] <-> E6
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [44] <-> D6
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [45] <-> C6
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [46] <-> B6
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [47] <-> A6
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [48] <-> H7
        chessboard!(
            0b_00000000
            0b_00000000
            0b_01000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [49] <-> G7
        chessboard!(
            0b_00000000
            0b_00000000
            0b_10100000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [50] <-> F7
        chessboard!(
            0b_00000000
            0b_00000000
            0b_01010000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [51] <-> E7
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00101000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [52] <-> D7
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00010100
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [53] <-> C7
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00001010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [54] <-> B7
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000101
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
        // [55] <-> A7
        chessboard!(
            0b_00000000
            0b_00000000
            0b_00000010
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000
            0b_00000000),
    ],
};

lazy_static! {
    pub static ref WHITE_PAWN_PUSH_TABLE: WhitePawnPushTable = WhitePawnPushTable::new();
    pub static ref BLACK_PAWN_PUSH_TABLE: BlackPawnPushTable = BlackPawnPushTable::new();
}

#[cfg(test)]
mod test {
    mod lookup {
        pub use super::super::*;
    }
    use crate::bitboard::BitboardWrapper;
    use crate::square;

    #[test]
    fn white_pawn_push_table() {
        for (i, &(square, occ, pushes)) in [
            (
                square::H2,
                chessboard!(
                    0b_10000000
                    0b_00100000
                    0b_00000100
                    0b_00001001
                    0b_00010000
                    0b_00000010
                    0b_10000000
                    0b_00001000),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_10000000
                    0b_10000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::H2,
                chessboard!(
                    0b_10100000
                    0b_00000000
                    0b_00001000
                    0b_10000100
                    0b_11000000
                    0b_01000001
                    0b_11000000
                    0b_00000000),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_10000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::H2,
                chessboard!(
                    0b_00000000
                    0b_00001000
                    0b_00100000
                    0b_00000000
                    0b_00010000
                    0b_11000000
                    0b_10000100
                    0b_00000000),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::H2,
                chessboard!(
                    0b_00000000
                    0b_00001000
                    0b_00100000
                    0b_00000000
                    0b_10010000
                    0b_11000000
                    0b_10000100
                    0b_00000000),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::A6,
                chessboard!(
                    0b_00000000
                    0b_00001000
                    0b_00100001
                    0b_00000000
                    0b_10010000
                    0b_11000000
                    0b_10000100
                    0b_00000000),
                chessboard!(
                    0b_00000000
                    0b_00000001
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::A6,
                chessboard!(
                    0b_00000001
                    0b_00001000
                    0b_00100001
                    0b_00000000
                    0b_10010000
                    0b_11000000
                    0b_10000100
                    0b_00000000),
                chessboard!(
                    0b_00000000
                    0b_00000001
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::A6,
                chessboard!(
                    0b_00000001
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000001
                    0b_10000100
                    0b_00000000),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::A6,
                chessboard!(
                    0b_00000000
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000001
                    0b_10000100
                    0b_00000000),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::H7,
                chessboard!(
                    0b_00000000
                    0b_10001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000001
                    0b_10000100
                    0b_00000000),
                chessboard!(
                    0b_10000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::H7,
                chessboard!(
                    0b_10000000
                    0b_10001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000001
                    0b_10000100
                    0b_00000000),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::H8,
                chessboard!(
                    0b_10000000
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000001
                    0b_10000100
                    0b_00000000),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
        ]
        .iter()
        .enumerate()
        {
            assert_eq!(
                BitboardWrapper(pushes),
                BitboardWrapper(lookup::WHITE_PAWN_PUSH_TABLE.lookup(square, occ)),
                "Test case #{} failed",
                i
            );
        }
    }

    #[test]
    fn black_pawn_push_table() {
        for (i, &(square, occ, pushes)) in [
            (
                square::A1,
                chessboard!(
                    0b_10000000
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000001
                    0b_10000100
                    0b_00000001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::H1,
                chessboard!(
                    0b_10000000
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000001
                    0b_10000100
                    0b_10000001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::F2,
                chessboard!(
                    0b_10000000
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000001
                    0b_10100100
                    0b_10000001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00100000),
            ),
            (
                square::E2,
                chessboard!(
                    0b_10000000
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000001
                    0b_10010100
                    0b_10010001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::C3,
                chessboard!(
                    0b_10000000
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000101
                    0b_10010000
                    0b_10010001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000100
                    0b_00000000),
            ),
            (
                square::C3,
                chessboard!(
                    0b_10000000
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11000101
                    0b_10010100
                    0b_10010001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::F3,
                chessboard!(
                    0b_10000000
                    0b_00001001
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11100101
                    0b_10010100
                    0b_10110001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00100000
                    0b_00000000),
            ),
            (
                square::B7,
                chessboard!(
                    0b_10000000
                    0b_00001011
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11100101
                    0b_10010100
                    0b_10110001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000010
                    0b_00000010
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::C7,
                chessboard!(
                    0b_10000000
                    0b_00001101
                    0b_00100001
                    0b_00000100
                    0b_10010000
                    0b_11100101
                    0b_10010100
                    0b_10110001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000100
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::E7,
                chessboard!(
                    0b_10000000
                    0b_00010101
                    0b_00010001
                    0b_00000100
                    0b_10010000
                    0b_11100101
                    0b_10010100
                    0b_10110001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::H7,
                chessboard!(
                    0b_10000000
                    0b_10101101
                    0b_10100001
                    0b_10000100
                    0b_10010000
                    0b_11100101
                    0b_10010100
                    0b_10110001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::G6,
                chessboard!(
                    0b_10000000
                    0b_00001101
                    0b_01000001
                    0b_10000100
                    0b_10010000
                    0b_11100101
                    0b_10010100
                    0b_10110001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_01000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
            (
                square::H6,
                chessboard!(
                    0b_10000000
                    0b_00001101
                    0b_10000001
                    0b_10000100
                    0b_10010000
                    0b_11100101
                    0b_10010100
                    0b_10110001),
                chessboard!(
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000
                    0b_00000000),
            ),
        ]
        .iter()
        .enumerate()
        {
            assert_eq!(
                BitboardWrapper(pushes),
                BitboardWrapper(lookup::BLACK_PAWN_PUSH_TABLE.lookup(square, occ)),
                "Test case #{} failed",
                i
            );
        }
    }
}
